{"version":3,"sources":["theme.js","google-analytics.js","api/auth.js","components/auth.js","components/drawer.js","components/app-bar.js","components/login.js","components/pages/standard-page.js","components/404.js","api/admin.js","components/pages/admin/impersonate.js","components/pages/admin/index.js","components/pages/overview.js","components/pages/manage-team/no-team.js","api/team.js","components/pages/manage-team/create.js","components/pages/manage-team/player-list.js","components/pages/manage-team/pending-players.js","components/pages/manage-team/roster.js","components/pages/manage-team/overview.js","components/pages/manage-team/join.js","components/pages/manage-team/loading.js","components/pages/manage-team/leave-team-modal.js","components/pages/manage-team/view.js","components/pages/manage-team/team-list.js","components/pages/manage-team/my-teams.js","components/pages/manage-team/all-teams.js","components/pages/manage-team/index.js","components/routes.js","components/layout.js","components/logout.js","App.js","index.js"],"names":["theme","createMuiTheme","palette","type","primary","blue","currentTrackingID","trackingID","Analytics","props","tid","ga","initialize","useGoogleAnalytics","location","useLocation","useEffect","send","pathname","usePageViews","children","refreshAuthToken","useToken","Request","get","err","data","token","console","log","decodeToken","store","Jwt","decode","configure","baseUrl","authorization","options","json","setState","user","mmr","Math","round","unrankedMMR","actions","updateTeam","team","state","login","storage","_data","isImpersionation","sessionStorage","impersonate","Date","now","iat","hasUpdated","set","useUserState","globalHook","React","useTokenRefresher","userState","userActions","updateAuthToken","Auth","useParams","history","useHistory","length","to","push","remove","useStyles","makeStyles","drawer","flexShrink","whiteSpace","drawerOpen","width","drawerWidth","transition","transitions","create","easing","sharp","duration","enteringScreen","drawerClose","leavingScreen","overflowX","spacing","breakpoints","up","toolbar","display","alignItems","justifyContent","padding","mixins","useDrawerState","open","toggleDrawer","openDrawer","closeDrawer","AppDrawer","drawerState","drawerActions","classes","useTheme","handleMenuEntry","entry","path","menuItems","icon","GroupIcon","text","SettingsIcon","ExitToAppIcon","isAdmin","logout","pop","SupervisorAccountIcon","Drawer","variant","className","classNames","paper","IconButton","onClick","direction","Divider","List","ListItem","button","ListItemIcon","Avatar","alt","profile","name","src","avatar","ListItemText","secondary","map","index","key","hide","appBar","zIndex","appBarShift","marginLeft","Bar","AppBar","color","position","Toolbar","aria-label","edge","menuButton","Typography","noWrap","root","Login","authUrl","document","origin","indexOf","Container","Paper","align","paragraph","Button","href","StandardPage","PageNotFound","steamid","a","Promise","resolve","reject","query","ImpersonateUser","useState","impersonateSteamId","setImpersonateSteamId","loadingImpersonate","setLoadingImpersonate","impersonateToken","setImpersonateToken","handleImpersonate","condition","render","TextField","value","label","placeholder","onChange","e","target","disabled","statBox","Admin","Overview","matchesFinished","matchesStarted","bestRanking","bottlepassLevel","averageMonthlyDays","seasonPlacings","daysPlayedThisMonth","statBoxes","gutterBottom","Grid","container","item","xs","sm","md","NoTeam","createTeam","teamName","post","body","getInvite","createInvite","checkInvite","joinTeam","getTeamData","id","listTeams","acceptInvite","rejectInvite","removePlayer","leaveTeam","teamId","setTeamName","buttonProgress","top","left","marginTop","wrapper","margin","CreateTeam","buttonDisabled","setButtonDisabled","creationStep","setCreationStep","timeout","submitTeamName","useTeamWizard","maxWidth","FormControl","fullWidth","helperText","required","CircularProgress","size","CreateTeamPage","actionIcon","PlayerList","players","actionHandler","player","action","ListItemAvatar","playerActions","ListItemSecondaryAction","Tooltip","title","toLowerCase","renderButtons","PendingPlayers","refreshToken","filter","p","confirmed","CheckIcon","ClearIcon","TeamRoster","removePlayerAction","inviteHolder","inviteBox","flex","inviteRefresh","transform","textField","fontSize","inviteToken","setInviteToken","setOpen","editingTeamName","setEditingTeamName","currentTeamName","setCurrentTeamName","updateToken","inviteLink","editTeamName","saveTeamName","newTeam","autoFocus","placement","copy","select","onBlur","invite","JoinTeam","isLoading","setIsLoading","teamData","setTeamData","params","newData","reason","Loading","backgroundColor","background","border","boxShadow","shadows","outline","LeaveTeamModal","onClose","onNewTeam","loading","setLoading","handleLeaveTeam","Modal","disablePortal","disableEnforceFocus","disableAutoFocus","showLeaveTeam","setShowLeaveTeam","isOnTeam","forEach","TeamList","teams","viewTeam","preventDefault","renderAction","partial","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","ExpansionPanelDetails","MyTeams","teamList","setTeamList","setLeaveTeam","getTeamList","t","AllTeams","ManageTeam","Routes","exact","content","flexGrow","AppLayout","Logout","App","ThemeProvider","CssBaseline","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.726bc1b2.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: blue\n  },\n});\n\nexport default theme;\n","import { useEffect } from \"react\";\nimport ga from \"react-ga\";\nimport { useLocation } from \"react-router-dom\";\n\nlet currentTrackingID = null;\n\nexport const trackingID = 'UA-112154059-2';\n\nexport function useGoogleAnalytics(tid = trackingID) {\n  if (tid !== currentTrackingID) {\n    currentTrackingID = tid;\n    ga.initialize(tid);\n  }\n}\n\nexport function usePageViews() {\n  let location = useLocation();\n  useEffect(() => {\n    ga.send([\"pageview\", location.pathname]);\n  }, [location]);\n}\n\nexport function Analytics(props) {\n  useGoogleAnalytics();\n  usePageViews();\n  return props.children || null;\n}\n","import Request from 'config-request';\nimport storage from 'any-storage';\n\nexport function refreshAuthToken(useToken) {\n  Request.get('/auth/token', function(err, data) {\n    if (data && data.token) {\n      useToken(data.token);\n    } else {\n      console.log('Tried to reauth but instead of this shit', err, data);\n    }\n  });\n}\n","import React from 'react';\nimport globalHook from 'use-global-hook';\nimport { useParams, useHistory, Redirect } from \"react-router-dom\";\nimport storage from 'any-storage';\nimport Jwt from 'jsonwebtoken';\nimport Request from 'config-request';\nimport { partial } from 'ap';\n\nimport { refreshAuthToken } from '../api/auth';\n\nconst initialState = {\n  user: null,\n  hasUpdated: false,\n  isImpersionation: false\n};\n\nfunction decodeToken(store, data) {\n  const token = Jwt.decode(data);\n  Request.configure({\n    baseUrl: token.baseUrl,\n    token: data,\n    authorization: 'x-auth-token',\n    options: {\n      json: true\n    }\n  });\n  console.log('Logged in successfuly', token);\n\n  store.setState({\n    user: {...token.user,\n      mmr: Math.round(100 * token.user.unrankedMMR) / 100\n    }\n  });\n\n  return token;\n}\n\nconst actions = {\n  updateTeam: (store, team) => {\n    store.setState({\n      user: {...store.state.user,\n        team\n      }\n    });\n  },\n  login: (store) => {\n    storage.get('authentication', function(err, _data) {\n      let data = _data;\n      let isImpersionation = false;\n      if (sessionStorage && sessionStorage.impersonate) {\n        data = sessionStorage.impersonate;\n        isImpersionation = true;\n      }\n      if (!data) {\n        Request.configure({ token: null });\n        if (store.state.user !== null) {\n          store.setState({\n            user: null\n          });\n        }\n        return;\n      }\n      const token = decodeToken(store, data);\n      if (isImpersionation) {\n        store.setState({\n          isImpersionation\n        });\n      }\n      const lastLogin = Date.now() - (new Date(token.iat * 1000));\n      if (!store.state.hasUpdated) {\n        store.setState({\n          hasUpdated: true\n        });\n        refreshAuthToken((token) => {\n          if (isImpersionation) {\n            sessionStorage.impersonate = token;\n            decodeToken(store, token);\n          } else {\n            storage.set('authentication', token, (err, token) => decodeToken(store, token));\n          }\n        });\n      }\n    });\n  }\n};\n\nexport const useUserState = globalHook(React, initialState, actions);\n\nexport function useTokenRefresher() {\n  const [userState, userActions] = useUserState();\n\n  function updateAuthToken(token) {\n    if (userState.isImpersionation) {\n      sessionStorage.impersonate = token;\n    } else {\n      storage.set('authentication', token, () => userActions.login());\n    }\n  }\n\n  return () => refreshAuthToken(updateAuthToken);\n}\n\nfunction Auth(props) {\n  const { impersonate } = props;\n  const { token } = useParams();\n  const userActions = useUserState()[1];\n  const history = useHistory();\n\n  if (!token || !token.length) {\n    return <Redirect to=\"/\" />\n  }\n\n  if (impersonate) {\n    sessionStorage.impersonate = token;\n    userActions.login();\n    return <Redirect to=\"/\" />\n  }\n\n  storage.set('authentication', token, () => userActions.login());\n  storage.get('route', function(err, data) {\n    if (err || !data) {\n      history.push('/login');\n      return;\n    }\n    history.push(data);\n    storage.remove('route');\n  });\n  return null;\n}\n\nexport default Auth;\n","import React from \"react\";\nimport globalHook from 'use-global-hook';\nimport { classNames } from \"react-extras\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport GroupIcon from '@material-ui/icons/Group';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\n// import InboxIcon from '@material-ui/icons/Inbox';\n// import MailIcon from '@material-ui/icons/Mail';\n\nimport { useUserState } from './auth';\n\nconst useStyles = makeStyles(theme => ({\n  drawer: {\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerOpen: {\n    width: drawerWidth => drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n  },\n}));\n\nconst initialState = {\n  open: false,\n  drawerWidth: 240\n};\n\nconst actions = {\n  toggleDrawer: (store) => {\n    store.setState({\n      open: !store.state.open\n    });\n  },\n  openDrawer: (store) => {\n    store.setState({\n      open: true\n    });\n  },\n  closeDrawer: (store) => {\n    store.setState({\n      open: false\n    });\n  },\n};\n\nexport const useDrawerState = globalHook(React, initialState, actions);\n\nexport default function AppDrawer(props) {\n  const [drawerState, drawerActions] = useDrawerState();\n  const [userState] = useUserState();\n  const classes = useStyles(drawerState.drawerWidth);\n  const theme = useTheme();\n  const history = useHistory();\n\n  const { open } = drawerState;\n\n  function handleMenuEntry(entry) {\n    history.push(entry.path);\n  }\n\n  const menuItems = [{\n    icon: GroupIcon,\n    text: 'Your Teams',\n    path: '/team'\n  }, {\n    icon: GroupIcon,\n    text: 'All Teams',\n    path: '/team/list'\n  }, {\n    icon: SettingsIcon,\n    text: 'Manage Team',\n    path: '/team/manage'\n  },\n  'divider',\n  {\n    icon: ExitToAppIcon,\n    text: 'Logout',\n    path: '/logout'\n  }];\n\n  if (userState.user.isAdmin) {\n    const logout = menuItems.pop();\n    menuItems.push({\n      icon: SupervisorAccountIcon,\n      text: 'Admin',\n      path: '/admin'\n    });\n    menuItems.push('divider')\n    menuItems.push(logout);\n  }\n\n  return (\n    <Drawer\n        variant=\"permanent\"\n        className={classNames(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })}\n        classes={{\n          paper: classNames({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n        open={open}\n      >\n        <div className={ classes.toolbar }>\n          <IconButton onClick={ drawerActions.closeDrawer }>\n            {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n            <ListItem button onClick={() => handleMenuEntry({ path: '/' })}>\n              <ListItemIcon>\n                <Avatar\n                  alt={ userState.user.profile.name }\n                  src={ userState.user.profile.avatar }\n                  />\n              </ListItemIcon>\n              <ListItemText\n                primary={ userState.user.profile.name }\n                secondary={ `MMR: ${userState.user.mmr}` } />\n            </ListItem>\n          {menuItems.map((entry, index) => {\n            if (entry === 'divider') {\n              return <Divider key={'divider' + index} />;\n            }\n            return (\n              <ListItem button key={entry.text} onClick={() => handleMenuEntry(entry)}>\n                <ListItemIcon><entry.icon /></ListItemIcon>\n                <ListItemText primary={entry.text} />\n              </ListItem>\n            );\n          })}\n        </List>\n    </Drawer>\n  );\n}\n","import React from \"react\";\nimport { classNames } from \"react-extras\";\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport { useDrawerState } from './drawer';\n\nconst useStyles = makeStyles(theme => ({\n  hide: {\n    display: 'none',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth => drawerWidth,\n    width: drawerWidth => `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n}));\n\nexport default function Bar(props) {\n  const [drawerState, drawerActions] = useDrawerState();\n  const { open, drawerWidth } = drawerState;\n  const classes = useStyles(drawerWidth);\n\n  return (\n    <AppBar\n      color=\"default\"\n      position=\"fixed\"\n      className={classNames(classes.appBar, {\n        [classes.appBarShift]: open,\n      })}\n    >\n      <Toolbar>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          onClick={ drawerActions.openDrawer }\n          edge=\"start\"\n          className={classNames(classes.menuButton, {\n            [classes.hide]: open,\n          })}\n        >\n          <MenuIcon />\n        </IconButton>\n        <Typography variant=\"h6\" noWrap>\n          Open Angel Arena\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport document from 'global/document';\n\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport { useUserState } from './auth';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(3, 2)\n  },\n}));\n\nfunction Login() {\n  const [userState, userActions] = useUserState();\n  const classes = useStyles();\n\n  if (userState.user) {\n    return <Redirect to=\"/\" />;\n  }\n\n  userActions.login();\n\n  let authUrl = `https://chrisinajar.com:4969/auth/authenticate`;\n  if (document.location.origin.indexOf('localhost') !== -1) {\n    authUrl = `http://localhost:9969/auth/authenticate`;\n  }\n\n  return (\n    <Container>\n      <br />\n      <br />\n      <br />\n      <Paper align=\"center\" className={ classes.root }>\n        <Typography paragraph>\n          Log in using steam! This will give oaa.gg permission to read your name, steam id, avatar, and other public information.\n        </Typography>\n        <Typography paragraph>\n        Always check the address bar at the top when logging in with Steam, never put your password into a website not owned by Valve.\n        </Typography>\n        <br />\n        <Button variant=\"contained\" onClick={ ()=> document.location.href=authUrl }>\n          Log In\n        </Button>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(3, 2)\n  },\n}));\n\nfunction StandardPage(props) {\n  const classes = useStyles();\n\n  return (\n    <Container>\n      <Paper align=\"center\" className={ classes.root }>\n      { props.children }\n      </Paper>\n    </Container>\n  );\n}\n\nexport default StandardPage;\n","import React from 'react';\nimport StandardPage from './pages/standard-page';\n\nfunction PageNotFound() {\n  return (\n    <StandardPage>\n      There is nothing here. Maybe it bought Sonic and flew away!\n    </StandardPage>\n  );\n}\n\nexport default PageNotFound;\n","import Request from 'config-request';\nimport storage from 'any-storage';\n\nexport async function impersonate(steamid) {\n  return new Promise((resolve, reject) => {\n    Request.get('/admin/impersonate', {\n      query: {\n        steamid\n      }\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data);\n    });\n  });\n}\n","import React, { useState } from 'react';\nimport { If } from 'react-extras';\nimport { Redirect } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport { impersonate } from '../../../api/admin';\nimport { useUserState } from '../../auth';\nimport StandardPage from '../standard-page';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n  }\n}));\n\nexport default function ImpersonateUser() {\n  const classes = useStyles();\n  const [impersonateSteamId, setImpersonateSteamId] = useState('232219850');\n  const [loadingImpersonate, setLoadingImpersonate] = useState(false);\n  const [impersonateToken, setImpersonateToken] = useState(null);\n\n  async function handleImpersonate() {\n    setLoadingImpersonate(true);\n    const data = await impersonate(impersonateSteamId);\n    setLoadingImpersonate(false);\n    if (data.token) {\n      setImpersonateToken(data.token);\n    }\n  }\n\n  return (\n    <>\n      <If\n        condition={!impersonateToken}\n        render={() => (\n          <>\n            <TextField\n              value={impersonateSteamId}\n              label=\"Impersonate user\"\n              placeholder=\"steam id32\"\n              name=\"steamid\"\n              onChange={(e) => setImpersonateSteamId(e.target.value)}\n              disabled={loadingImpersonate}\n              />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleImpersonate}\n              disabled={loadingImpersonate}\n              >\n              Impersonate\n            </Button>\n          </>\n        )} />\n      <If\n        condition={!!impersonateToken}\n        render={() => (\n          <>\n            <a href={`/impersonate/${impersonateToken}`} target=\"_blank\">\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={loadingImpersonate}\n              >\n              Impersonate\n            </Button>\n            </a>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={() => setImpersonateToken()}\n              disabled={loadingImpersonate}\n              >\n              Cancel\n            </Button>\n          </>\n        )} />\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport { If } from 'react-extras';\nimport { Redirect } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport { impersonate } from '../../../api/admin';\nimport { useUserState } from '../../auth';\nimport StandardPage from '../standard-page';\nimport ImpersonateUser from './impersonate';\n\nconst useStyles = makeStyles(theme => ({\n  statBox: {\n    padding: theme.spacing(1, 0, 3, 0)\n  }\n}));\n\nexport default function Admin() {\n  const [userState] = useUserState();\n  const classes = useStyles();\n  const [impersonateSteamId, setImpersonateSteamId] = useState('232219850');\n  const [loadingImpersonate, setLoadingImpersonate] = useState(false);\n  const [impersonateToken, setImpersonateToken] = useState(null);\n\n  if (!userState.user.isAdmin) {\n    return <Redirect to=\"/\" />\n  }\n\n  async function handleImpersonate() {\n    setLoadingImpersonate(true);\n    const data = await impersonate(impersonateSteamId);\n    setLoadingImpersonate(false);\n    if (data.token) {\n      setImpersonateToken(data.token);\n    }\n  }\n\n  return (\n    <StandardPage>\n      <Typography variant=\"h3\">Admin</Typography>\n      <Typography variant=\"subtitle2\"><i>ban everyone</i></Typography>\n      <br />\n      <br />\n      <ImpersonateUser />\n    </StandardPage>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport { useUserState } from '../auth';\nimport StandardPage from './standard-page';\n\nconst useStyles = makeStyles(theme => ({\n  statBox: {\n    padding: theme.spacing(1, 0, 3, 0)\n  }\n}));\n\nfunction Overview() {\n  const [userState] = useUserState();\n  const classes = useStyles();\n\n  const {\n    mmr,\n    profile,\n    matchesFinished,\n    matchesStarted,\n    bestRanking,\n    bottlepassLevel,\n    averageMonthlyDays,\n    seasonPlacings,\n    daysPlayedThisMonth\n  } = userState.user;\n\n  const statBoxes = [{\n    text: 'MMR',\n    value: mmr\n  }, {\n    text: 'Games Started',\n    value: matchesStarted\n  }, {\n    text: 'Games Finished',\n    value: matchesFinished\n  }, {\n    text: 'Bottlepass Level',\n    value: bottlepassLevel\n  }, {\n    text: 'Best Ranking Achieved',\n    value: bestRanking\n  }, {\n    text: 'Average Monthly Days Played',\n    value: (Math.round(10 * averageMonthlyDays) / 10)\n  }, {\n    text: 'Days Played This Month',\n    value: daysPlayedThisMonth,\n  }, {\n    text: 'Top 100 Placings',\n    value: seasonPlacings\n  }];\n\n  return (\n    <StandardPage>\n      <Typography variant=\"h2\" gutterBottom>\n        { `Hello, ${profile.name}`}\n      </Typography>\n      <Grid container spacing={2}>\n        {statBoxes.map((entry) => (\n          <Grid item xs={12} sm={6} md={3} key={entry.text}>\n            <Paper className={ classes.statBox }>\n              <Typography variant=\"subtitle1\">\n                { entry.text }\n              </Typography>\n              <Typography variant=\"h3\">\n                { entry.value }\n              </Typography>\n            </Paper>\n          </Grid>\n        ))}\n      </Grid>\n    </StandardPage>\n  );\n}\n\nexport default Overview;\n","import React from 'react';\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nfunction NoTeam() {\n  const history = useHistory();\n\n  function createTeam() {\n    history.push('/team/create');\n  }\n\n  return (\n    <>\n      <Typography paragraph>\n        You are not currently on any team's roster!\n      </Typography>\n      <Button variant=\"contained\" onClick={ createTeam }>\n        Create Team\n      </Button>\n      <br />\n      <br />\n      <Button variant=\"contained\">\n        Join Team\n      </Button>\n    </>\n  );\n}\n\nexport default NoTeam;\n","import Request from 'config-request';\n\nexport async function createTeam(teamName) {\n  return new Promise((resolve, reject) => {\n    Request.post('/team/create', {\n      body: {\n        name: teamName\n      }\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data);\n    });\n  });\n}\n\nexport async function getInvite() {\n  return new Promise((resolve, reject) => {\n    Request.get('/team/invite', {\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data ? data.token : null);\n    });\n  });\n}\n\nexport async function createInvite() {\n  return new Promise((resolve, reject) => {\n    Request.post('/team/createInvite', {\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data ? data.token : null);\n    });\n  });\n}\n\nexport async function checkInvite(token) {\n  return new Promise((resolve, reject) => {\n    Request.get('/team/checkInvite', {\n      query: {\n        token\n      }\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data);\n    });\n  });\n}\n\nexport async function joinTeam(token) {\n  return new Promise((resolve, reject) => {\n    Request.post('/team/join', {\n      body: {\n        token\n      }\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data);\n    });\n  });\n}\n\nexport async function getTeamData(id) {\n  return new Promise((resolve, reject) => {\n    Request.get('/team/view', {\n      query: {\n        id\n      }\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data);\n    });\n  });\n}\n\nexport async function listTeams(steamid) {\n  return new Promise((resolve, reject) => {\n    Request.get('/team/list', {\n      query: {\n        steamid\n      }\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data.data);\n    });\n  });\n}\n\nexport async function acceptInvite(steamid) {\n  return new Promise((resolve, reject) => {\n    Request.post('/team/acceptInvite', {\n      body: {\n        steamid\n      }\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data);\n    });\n  });\n}\n\nexport async function rejectInvite(steamid) {\n  return new Promise((resolve, reject) => {\n    Request.post('/team/rejectInvite', {\n      body: {\n        steamid\n      }\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data);\n    });\n  });\n}\n\n\nexport async function removePlayer(steamid) {\n  return new Promise((resolve, reject) => {\n    Request.post('/team/removePlayer', {\n      body: {\n        steamid\n      }\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data);\n    });\n  });\n}\n\nexport async function leaveTeam(teamId) {\n  return new Promise((resolve, reject) => {\n    Request.post('/team/leaveTeam', {\n      body: {\n        teamId\n      }\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data);\n    });\n  });\n}\n\nexport async function setTeamName(name) {\n  return new Promise((resolve, reject) => {\n    Request.post('/team/updateTeam', {\n      body: {\n        name\n      }\n    }, function (err, data) {\n      if (err) {\n        reject(err);\n      }\n      resolve(data);\n    });\n  });\n\n}\n","import React, { useState, useEffect } from 'react';\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport { If } from 'react-extras';\nimport { timeout } from 'thyming';\nimport Request from 'config-request';\nimport storage from 'any-storage';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Container from '@material-ui/core/Container';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport StandardPage from '../standard-page';\nimport { useUserState } from '../../auth';\nimport { createTeam } from '../../../api/team';\n\nconst useStyles = makeStyles(theme => ({\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  wrapper: {\n    margin: theme.spacing(1),\n    position: 'relative',\n  },\n}));\n\nfunction useTeamWizard() {\n  const [buttonDisabled, setButtonDisabled] = useState(false);\n  const [creationStep, setCreationStep] = useState(0);\n  const [teamName, setTeamName] = useState('');\n  const [userState, userActions] = useUserState();\n  const history = useHistory();\n\n  useEffect(() => {\n    console.log('Check', creationStep);\n    switch (creationStep) {\n      case 0:\n        return timeout(() => {\n          setCreationStep(1);\n        }, 2000);\n        break;\n      default:\n        break;\n    }\n  }, [creationStep]);\n\n  function submitTeamName() {\n    setCreationStep(2);\n  }\n\n  async function createTeamAction() {\n    setButtonDisabled(true);\n    const { token } = await createTeam(teamName);\n    storage.set('authentication', token, () => {\n      userActions.login();\n      history.push('/team/manage');\n    });\n  }\n\n  return [{\n    teamName,\n    creationStep,\n    buttonDisabled,\n    userState\n  }, {\n    setTeamName,\n    submitTeamName,\n    createTeam: createTeamAction\n  }];\n}\n\nfunction CreateTeam() {\n  const [state, actions] = useTeamWizard();\n  const classes = useStyles();\n\n  if (state.userState.user.team) {\n    return <Redirect to=\"/team\" />;\n  }\n\n  function nextButton() {\n    return (\n      <Button\n        color=\"primary\"\n        variant=\"contained\"\n        onClick={actions.submitTeamName}\n        >\n        Next\n      </Button>\n    );\n  }\n\n  // creationStep\n  switch (state.creationStep) {\n    case 0:\n      return (\n        <>\n          <Typography variant=\"h2\">\n            Create a team\n          </Typography>\n          <br />\n          <Typography variant=\"subtitle1\">\n            Win the game, make some money\n          </Typography>\n        </>\n      );\n      break;\n    case 1:\n      // set name\n      return (\n        <>\n          <Typography variant=\"h2\">\n            Create a team\n          </Typography>\n          <br />\n          <Typography variant=\"subtitle1\">\n            Enter your team name below\n          </Typography>\n          <Container maxWidth=\"sm\" align=\"center\">\n            <Grid container>\n              <Grid item xs={6}>\n                <FormControl fullWidth>\n                  <TextField\n                    placeholder=\"Team Name\"\n                    helperText=\"You can change this later\"\n                    value={state.teamName}\n                    required\n                    onChange={(e)=> actions.setTeamName(e.target.value)}\n                    />\n                </FormControl>\n              </Grid>\n              <Grid item xs={6}>\n                <If\n                  condition={ !!state.teamName.length }\n                  render={nextButton}\n                />\n              </Grid>\n            </Grid>\n          </Container>\n        </>\n      );\n      break;\n    case 2:\n      return (\n        <>\n          <Typography variant=\"h2\">\n            Team {state.teamName}\n          </Typography>\n          <br />\n          <Container maxWidth=\"sm\">\n            <Typography paragraph>\n              Your team will be active once you have 5 players add and confirmed, and then all 5 of you play a game together.\n              Games played before registering the team or before roster changes do not count.\n            </Typography>\n          </Container>\n          <div className={classes.wrapper}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={ actions.createTeam }\n              disabled={ state.buttonDisabled }\n              >\n              Create Team\n            </Button>\n            {state.buttonDisabled && <CircularProgress size={24} className={classes.buttonProgress}/>}\n          </div>\n        </>\n      );\n      break;\n  }\n\n  return null;\n}\n\nfunction CreateTeamPage() {\n  return (\n    <StandardPage>\n      <CreateTeam />\n    </StandardPage>\n  );\n}\n\nexport default CreateTeamPage;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n\n  },\n  actionIcon: {\n    margin: theme.spacing(0, 0, 0, 1)\n  }\n}));\n\nexport default function PlayerList(props) {\n  const classes = useStyles();\n  const { players, actions } = props;\n\n  function actionHandler(player, action) {\n    return function handler(e) {\n      if (typeof action.action === 'function') {\n        return action.action(player);\n      }\n    }\n  }\n\n  function renderButtons(player) {\n    let playerActions = actions;\n    if (typeof actions === 'function') {\n      playerActions = actions(player);\n    }\n    if (!playerActions) {\n      return [];\n    }\n    return (\n      <ListItemSecondaryAction>\n        { playerActions.map((action) => (\n          <Tooltip key={ action.name } title={ action.name }>\n            <IconButton\n              edge=\"end\"\n              aria-label={ action.name.toLowerCase() }\n              className={ classes.actionIcon }\n              onClick={ actionHandler(player, action) }\n              >\n              <action.icon />\n            </IconButton>\n          </Tooltip>\n        ))}\n      </ListItemSecondaryAction>\n    );\n  }\n\n  return (\n    <List className={classes.root}>\n      {players.map((player) => (\n        <ListItem key={player.steamid} alignItems=\"flex-start\">\n          <ListItemAvatar>\n            <Avatar alt={player.name} src={player.avatar} />\n          </ListItemAvatar>\n          <ListItemText\n            primary={player.name}\n            secondary={\n              <>\n                {`MMR: ${Math.round(100 * player.mmr) / 100}`}\n              </>\n            }\n          />\n          { renderButtons(player) }\n        </ListItem>\n      ))}\n    </List>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport storage from 'any-storage';\n\nimport CheckIcon from '@material-ui/icons/Check';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nimport { acceptInvite, rejectInvite } from '../../../api/team';\nimport { useUserState, useTokenRefresher } from '../../auth';\nimport PlayerList from './player-list';\n\nexport default function PendingPlayers(props) {\n  const [userState, userActions] = useUserState();\n  const refreshToken = useTokenRefresher();\n  let { players } = userState.user.team;\n\n  players = players.filter((p) => !p.confirmed);\n\n  async function acceptPlayer(player) {\n    const { team } = await acceptInvite(player.steamid);\n    userActions.updateTeam(team);\n    refreshToken();\n  }\n  async function rejectPlayer(player) {\n    const { team } = await rejectInvite(player.steamid);\n    userActions.updateTeam(team);\n    refreshToken();\n  }\n\n  const actions = [{\n    icon: CheckIcon,\n    name: 'Accept',\n    action: acceptPlayer\n  }, {\n    icon: ClearIcon,\n    name: 'Reject',\n    action: rejectPlayer\n  }];\n\n  return (\n    <PlayerList players={players} actions={actions} />\n  );\n}\n","import React, { useState, useEffect } from 'react';\n\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\nimport { removePlayer } from '../../../api/team';\nimport { useUserState, useTokenRefresher } from '../../auth';\nimport PlayerList from './player-list';\n\nexport default function TeamRoster(props) {\n  const [userState, userActions] = useUserState();\n  const refreshToken = useTokenRefresher();\n  let { players } = userState.user.team;\n\n  players = players.filter((p) => p.confirmed);\n\n  async function removePlayerAction(player) {\n    await removePlayer(player.steamid);\n    refreshToken();\n  }\n\n  function getActions(player) {\n    // if (player.steamid === userState.user.steamid) {\n    //   return null;\n    // }\n    return [{\n      icon: ExitToAppIcon,\n      name: 'Remove Player',\n      action: removePlayerAction\n    }];\n  }\n\n  return (\n    <PlayerList players={players} actions={getActions} />\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { If } from 'react-extras';\nimport { makeStyles } from '@material-ui/core/styles';\nimport document from 'global';\nimport copy from 'clipboard-copy';\n\nimport Container from '@material-ui/core/Container';\nimport Divider from '@material-ui/core/Divider';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\n\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport PencilIcon from '@material-ui/icons/Edit';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport SaveIcon from '@material-ui/icons/Save';\n\nimport { getInvite, createInvite, setTeamName } from '../../../api/team';\nimport { useUserState } from '../../auth';\nimport NoTeam from './no-team';\nimport PendingPlayers from './pending-players';\nimport TeamRoster from './roster';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n  },\n  inviteHolder: {\n    display: 'flex'\n  },\n  inviteBox: {\n    flex: 1\n  },\n  inviteRefresh: {\n    flex: 0,\n    width: 80,\n    transition: 'transform 1s',\n    '&:hover': {\n      transform: 'rotate(90deg)'\n    }\n  },\n  textField: {\n    '& input': {\n      fontSize: '3rem',\n    }\n  },\n}));\n\nfunction Overview() {\n  const [inviteToken, setInviteToken] = useState('');\n  const [userState, userActions] = useUserState();\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [editingTeamName, setEditingTeamName] = useState(false);\n  const [currentTeamName, setCurrentTeamName] = useState('');\n\n  useEffect(() => {\n    async function updateToken() {\n      const token = await getInvite();\n      setInviteToken(token);\n    }\n    updateToken();\n  }, []);\n\n  const { team, profile } = userState.user;\n\n  const inviteLink = inviteToken.length ? `${document.location.origin}/team/join/${inviteToken}` : '';\n\n  if (!team) {\n    return <NoTeam />;\n  }\n\n  function copyInviteUrl(e) {\n    setOpen(true);\n    copy(inviteLink);\n    if (e && e.target && e.target.select) {\n      e.target.select();\n    }\n  }\n\n  async function generateInvite(e) {\n    const token = await createInvite();\n    if (token) {\n      setInviteToken(token);\n    }\n  }\n\n  function editTeamName() {\n    setEditingTeamName(true);\n    setCurrentTeamName(team.name);\n  }\n\n  async function saveTeamName() {\n    const { team: newTeam } = await setTeamName(currentTeamName);\n    userActions.updateTeam(newTeam);\n    setEditingTeamName(false);\n  }\n\n  return (\n    <>\n      <If condition={!editingTeamName} render={() => (\n        <Typography variant=\"h3\">\n          Team: { team.name }\n          <IconButton onClick={editTeamName}>\n            <PencilIcon />\n          </IconButton>\n        </Typography>\n      )} />\n      <If condition={!!editingTeamName} render={() => (\n        <Typography variant=\"h3\">\n          <TextField\n            classes={{\n              root: classes.textField\n            }}\n            autoFocus\n            title='Team name'\n            value={currentTeamName}\n            onChange={(e) => setCurrentTeamName(e.target.value)}\n            />\n            <IconButton onClick={saveTeamName}>\n              <SaveIcon />\n            </IconButton>\n            <IconButton onClick={() => setEditingTeamName(false)}>\n              <CancelIcon />\n            </IconButton>\n        </Typography>\n      )} />\n      <Divider />\n      <br />\n      <Container>\n        <Grid container>\n          <Grid\n            item\n            md={6}\n            xs={12}\n            >\n            <Typography variant=\"h5\">\n              Invite players\n            </Typography>\n            <div className={classes.inviteHolder}>\n              <div className={classes.inviteBox}>\n                <Tooltip\n                  open={open}\n                  title=\"Copied\"\n                  placement=\"bottom-end\"\n                  >\n                  <TextField\n                    fullWidth\n                    value={inviteLink}\n                    label=\"Invite Link\"\n                    placeholder=\"Loading link...\"\n                    onClick={copyInviteUrl}\n                    onBlur={() => setOpen(false)}\n                    className={ classes.invite }\n                    />\n                </Tooltip>\n              </div>\n              <div className={classes.inviteRefresh}>\n                <Tooltip title=\"Generate new invite link\">\n                <IconButton onClick={generateInvite}>\n                  <RefreshIcon />\n                </IconButton>\n                </Tooltip>\n              </div>\n            </div>\n            <br />\n            <br />\n            <br />\n            <Typography variant=\"h5\">\n              Pending players\n            </Typography>\n            <PendingPlayers />\n          </Grid>\n          <Grid\n            item\n            md={6}\n            xs={12}\n            >\n            <Typography variant=\"h5\">\n              Team Roster\n            </Typography>\n            <TeamRoster />\n          </Grid>\n        </Grid>\n      </Container>\n    </>\n  );\n}\n\nexport default Overview;\n","import React, { useState, useEffect } from 'react';\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Divider from '@material-ui/core/Divider';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport { checkInvite, joinTeam } from '../../../api/team';\nimport { useUserState } from '../../auth';\nimport StandardPage from '../standard-page';\n\nconst useStyles = makeStyles(theme => ({\n  statBox: {\n    padding: theme.spacing(1, 0, 3, 0)\n  }\n}));\n\nfunction JoinTeam() {\n  const [isLoading, setIsLoading] = useState();\n  const [teamData, setTeamData] = useState();\n  const params = useParams();\n  const history = useHistory();\n  const token = params[0];\n\n  useEffect(() => {\n    async function getTeamData() {\n      const newData = await checkInvite(token);\n      setTeamData(newData.team);\n    }\n    if (!teamData) {\n      getTeamData();\n    }\n  }, [teamData]);\n\n  async function confirm() {\n    setIsLoading(true);\n    try {\n      const { team } = await joinTeam(token);\n      history.push(`/team/view/${team.id}`);\n    } catch (e) {\n      setIsLoading(false);\n      return;\n    }\n  }\n\n  function cancel() {\n    history.push('/team');\n  }\n\n  if (isLoading || !teamData) {\n    const reason = isLoading ? `Joining ${teamData.name}` : 'Checking invite code...';\n    return (\n      <StandardPage>\n        <Typography variant=\"h4\">{reason}</Typography>\n        <br />\n        <br />\n        <CircularProgress />\n      </StandardPage>\n    );\n  }\n\n  return (\n    <StandardPage>\n      <Typography variant=\"h4\">\n        Do you want to join team\n      </Typography>\n      <Typography variant=\"h1\">\n        {teamData.name}\n      </Typography>\n\n      <br />\n      <Typography>\n        You can join as many teams as you'd like, however only one of those teams may compete in league play.\n      </Typography>\n      <br />\n\n      <Grid container>\n        <Grid item xs={false} sm={1} />\n        <Grid item xs={12} sm={4}>\n          <Button onClick={confirm} variant=\"contained\" color=\"primary\">JOIN TEAM</Button>\n        </Grid>\n        <Grid item xs={false} sm={2} />\n        <Grid item xs={12} sm={4}>\n          <Button onClick={cancel} variant=\"contained\" color=\"secondary\">REJECT INVITE</Button>\n        </Grid>\n        <Grid item xs={false} sm={1} />\n      </Grid>\n    </StandardPage>\n  );\n}\n\nexport default JoinTeam;\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport StandardPage from '../standard-page';\n\nexport default function Loading () {\n  return (\n    <StandardPage>\n      <br />\n      <br />\n      <br />\n      <CircularProgress size={128} />\n      <br />\n      <br />\n      <br />\n    </StandardPage>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { If } from 'react-extras';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Modal from '@material-ui/core/Modal';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport { leaveTeam } from '../../../api/team';\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    outline: 'none',\n  },\n}));\n\nexport default function LeaveTeamModal(props) {\n  const { team, open, onClose, onNewTeam } = props;\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n\n  async function handleLeaveTeam() {\n    setLoading(true);\n    const { team: newTeam } = await leaveTeam(team.id);\n    console.log(newTeam);\n    if (typeof onNewTeam === 'function') {\n      onNewTeam(newTeam);\n    }\n    if (typeof onClose === 'function') {\n      onClose();\n    }\n  }\n\n  function renderActions() {\n    return (\n      <Grid container>\n        <Grid item xs={6}>\n          <Button variant=\"contained\" color=\"primary\" onClick={onClose}>\n            Cancel\n          </Button>\n        </Grid>\n        <Grid item xs={6}>\n          <Button variant=\"contained\" color=\"secondary\" onClick={handleLeaveTeam}>\n            Leave Team\n          </Button>\n        </Grid>\n      </Grid>\n    );\n  }\n\n  function renderLoading() {\n    return (\n      <CircularProgress size={32} />\n    );\n  }\n\n  return (\n    <>\n      <Modal\n        disablePortal\n        disableEnforceFocus\n        disableAutoFocus\n        open={team && open}\n        onClose={onClose}\n        >\n        <Paper className={classes.paper}>\n          <Typography>\n            Are you sure you want to leave team:\n          </Typography>\n          <br />\n          <Typography variant='h3'>\n            { team.name }\n          </Typography>\n          <br />\n          <If condition={!loading} render={renderActions} />\n          <If condition={loading} render={renderLoading} />\n        </Paper>\n      </Modal>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\n\nimport { getTeamData } from '../../../api/team';\nimport { useUserState } from '../../auth';\nimport StandardPage from '../standard-page';\nimport Loading from './loading';\nimport PlayerList from './player-list';\nimport LeaveTeamModal from './leave-team-modal';\n\nconst useStyles = makeStyles(theme => ({\n  statBox: {\n    padding: theme.spacing(1, 0, 3, 0)\n  }\n}));\n\nfunction Overview() {\n  const [teamData, setTeamData] = useState();\n  const [showLeaveTeam, setShowLeaveTeam] = useState(false);\n  const classes = useStyles();\n  const params = useParams();\n  const [userState] = useUserState();\n  const token = params[0];\n\n  useEffect(() => {\n    async function updateToken() {\n      const data = await getTeamData(token);\n      setTeamData(data.team);\n    }\n    if (!teamData) {\n      updateToken();\n    }\n  }, [teamData, token]);\n\n  if (!teamData) {\n    return <Loading />;\n  }\n\n  let isOnTeam = false;\n  teamData.players.forEach((p) => {\n    isOnTeam = isOnTeam || p.steamid === userState.user.steamid;\n  });\n\n  return (\n    <StandardPage>\n      <Typography variant=\"h2\">\n        { teamData.name }\n      </Typography>\n      <Divider />\n      <br />\n      {isOnTeam && (\n        <Button variant='contained' color='secondary' onClick={() => setShowLeaveTeam(true)}>\n          Leave team\n        </Button>\n      )}\n      <LeaveTeamModal\n        open={showLeaveTeam}\n        team={teamData}\n        onNewTeam={setTeamData}\n        onClose={() => setShowLeaveTeam(false)}\n        />\n      <br />\n      <PlayerList players={teamData.players.filter((p) => p.confirmed)} />\n    </StandardPage>\n  );\n}\n\nexport default Overview;\n","import React from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { partial } from 'ap';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport Typography from '@material-ui/core/Typography';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport PlayerList from './player-list';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n  }\n}));\n\nexport default function TeamList(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const { teams, actions = [] } = props;\n\n  function viewTeam(team) {\n    return (e) => {\n      history.push(`/team/view/${team.id}`);\n      e.preventDefault();\n    };\n  }\n\n  function renderAction(team, action) {\n    return (\n      <Button key={action.name} onClick={partial(action.action, team, action)}>\n      { action.name }\n      </Button>\n    );\n  }\n\n  return (\n    <>\n      {teams.map((team) => (\n        <ExpansionPanel key={team.id}>\n          <ExpansionPanelSummary\n            expandIcon={<ExpandMoreIcon />}\n            aria-controls={`${team.id}-content`}\n            id={`${team.id}-header`}\n          >\n            <Button onClick={viewTeam(team)}>\n              {team.name}\n            </Button>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            {actions.map(partial(renderAction, team))}\n            <PlayerList players={ team.players.filter((p) => p.confirmed) } />\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n      ))}\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { listTeams } from '../../../api/team';\nimport { useUserState } from '../../auth';\nimport StandardPage from '../standard-page';\nimport Loading from './loading';\nimport TeamList from './team-list';\nimport LeaveTeamModal from './leave-team-modal';\n\nexport default function MyTeams() {\n  const [teamList, setTeamList] = useState();\n  const [leaveTeam, setLeaveTeam] = useState(false);\n  const [userState] = useUserState();\n\n  useEffect(() => {\n    async function getTeamList() {\n      const data = await listTeams(userState.user.steamid);\n      setTeamList(data);\n    }\n    getTeamList();\n  }, [userState.user.steamid]);\n\n  function updateTeam(team) {\n    setTeamList(teamList.filter((t) => t.id !== team.id));\n  }\n\n  if (!teamList) {\n    return <Loading />;\n  }\n\n  return (\n    <StandardPage>\n      <TeamList teams={teamList} actions={[{\n          name: 'Leave team',\n          action: (team) => setLeaveTeam(team)\n        }]}/>\n      <LeaveTeamModal\n        open={!!leaveTeam}\n        team={leaveTeam}\n        onNewTeam={updateTeam}\n        onClose={() => setLeaveTeam(false)}\n        />\n    </StandardPage>\n  );\n}\n","import React, { useState, useEffect } from 'react';\n\nimport { listTeams } from '../../../api/team';\nimport StandardPage from '../standard-page';\nimport Loading from './loading';\nimport TeamList from './team-list';\n\nexport default function AllTeams() {\n  const [teamList, setTeamList] = useState();\n\n  useEffect(() => {\n    async function getTeamList() {\n      const data = await listTeams();\n      setTeamList(data);\n    }\n    if (!teamList) {\n      getTeamList();\n    }\n  }, [teamList]);\n\n  if (!teamList) {\n    return <Loading />;\n  }\n\n  return (\n    <StandardPage>\n      <TeamList teams={teamList} />\n    </StandardPage>\n  );\n}\n","import React from 'react';\nimport { useParams } from \"react-router-dom\";\nimport NoTeam from './no-team';\nimport CreateTeam from './create';\nimport Overview from './overview';\nimport JoinTeam from './join';\nimport ViewTeam from './view';\nimport MyTeams from './my-teams';\nimport ListTeams from './all-teams';\nimport StandardPage from '../standard-page';\nimport { useUserState } from '../../auth';\n\nfunction ManageTeam() {\n  const { action } = useParams();\n  const [userState, userActions] = useUserState();\n  const isOnTeam = !!userState.user.team;\n\n  switch (action) {\n    case 'create':\n      return <CreateTeam />\n      break;\n    case 'join':\n      return <JoinTeam />\n      break;\n    case 'view':\n      return <ViewTeam />\n      break;\n    case 'list':\n      return <ListTeams />\n      break;\n    case 'manage':\n      return (\n        <StandardPage>\n          <Overview />\n        </StandardPage>\n      );\n      break;\n    default:\n      break;\n  }\n\n  // if (!isOnTeam) {\n  //   return (\n  //     <StandardPage>\n  //       <NoTeam />\n  //     </StandardPage>\n  //   );\n  // }\n\n  return (\n    <MyTeams />\n  );\n}\n\nexport default ManageTeam;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport FourOhFour from './404';\nimport Admin from './pages/admin';\nimport Overview from \"./pages/overview\";\nimport ManageTeam from './pages/manage-team';\n\nexport default function Routes() {\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Overview />\n      </Route>\n      <Route path=\"/team/:action/*\">\n        <ManageTeam />\n      </Route>\n      <Route path=\"/team/:action\">\n        <ManageTeam />\n      </Route>\n      <Route path=\"/team\">\n        <ManageTeam />\n      </Route>\n      <Route path=\"/admin\">\n        <Admin />\n      </Route>\n      <Route>\n        <FourOhFour />\n      </Route>\n    </Switch>\n  );\n}\n","import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport storage from 'any-storage';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport AppBar from \"./app-bar\";\nimport Drawer from \"./drawer\";\nimport Login from \"./login\";\nimport Routes from \"./routes\";\nimport FourOhFour from './404';\nimport Overview from \"./pages/overview\";\nimport ManageTeam from './pages/manage-team';\nimport { useUserState } from './auth';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n  },\n}));\n\nexport default function AppLayout(props) {\n  const [userState] = useUserState();\n  const classes = useStyles();\n  const { pathname } = useLocation();\n\n  if (!userState.user) {\n    storage.set('route', pathname);\n    return <Login />\n  }\n\n  return (\n    <div className={classes.root}>\n      <AppBar />\n      <Drawer />\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <Routes />\n      </main>\n    </div>\n  );\n}\n","import storage from 'any-storage';\nimport { useHistory } from \"react-router-dom\";\n\nimport { useUserState } from './auth';\n\nfunction Logout() {\n  const [userState, userActions] = useUserState();\n  const history = useHistory();\n\n  storage.remove('authentication', () => {\n    userActions.login();\n    history.push('/login');\n  });\n\n  return null;\n}\n\nexport default Logout;\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport { useTheme, ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport theme from './theme';\nimport { Analytics } from './google-analytics';\nimport AppLayout from './components/layout';\nimport Auth from './components/auth';\nimport Login from './components/login';\nimport Logout from './components/logout';\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Router>\n        <Analytics />\n\n        <Switch>\n          <Route exact path=\"/auth/:token\">\n            <Auth />\n          </Route>\n          <Route exact path=\"/impersonate/:token\">\n            <Auth impersonate />\n          </Route>\n          <Route exact path=\"/login\">\n            <Login />\n          </Route>\n          <Route exact path=\"/logout\">\n            <Logout />\n          </Route>\n          <Route path=\"/\">\n            <AppLayout />\n          </Route>\n        </Switch>\n      </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}